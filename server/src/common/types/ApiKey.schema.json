{
  "$ref": "#/definitions/ApiKey",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "ApiKey": {
      "additionalProperties": false,
      "properties": {
        "created": {
          "format": "date-time",
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "key": {
          "description": "The actual API key. This is NOT stored in the database. Only present temporarily in the frontend when generating a new key.",
          "type": "string"
        },
        "key_hash": {
          "description": "Only the hash of the API key is stored in the database. This is used to authenticate requests. Hash algorithm: sha256",
          "type": "string"
        },
        "name": {
          "description": "Optional name for the API key (for easier identification).",
          "type": "string"
        },
        "organisation": {
          "type": "string"
        },
        "rate_limit_per_hour": {
          "type": "number"
        },
        "retention_period_days": {
          "type": "number"
        },
        "role": {
          "description": "Role of the API key: 'trace' (can only post spans), 'developer' (most endpoints), or 'admin' (all endpoints)",
          "enum": ["trace", "developer", "admin"],
          "type": "string"
        },
        "updated": {
          "format": "date-time",
          "type": "string"
        }
      },
      "required": [
        "id",
        "organisation",
        "key_hash",
        "role",
        "created",
        "updated"
      ],
      "type": "object"
    }
  }
}
