{
  "$ref": "#/definitions/Experiment",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "Experiment": {
      "additionalProperties": false,
      "description": "An Experiment is a run of a Dataset of examples over your code, scoring the outputs. Individual results may be traced as per normal tracing.",
      "properties": {
        "comparison_parameters": {
          "description": "The parameters you are directly comparing this experiment with multiple tests, e.g. model:gpt-4o vs model:gpt-4o-mini \n-- and the ExperimentRunner will do both. For each example, the runner will loop over this array, and run the engine with each set of parameters. These + parameters are (a) set as environment variables, and (b) passed as kwargs to the engine function, in a loop.",
          "items": {
            "type": "object"
          },
          "type": "array"
        },
        "created": {
          "format": "date-time",
          "type": "string"
        },
        "dataset": {
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "name": {
          "description": "Good practice to give a meaningful name to the experiment",
          "type": "string"
        },
        "organisation": {
          "type": "string"
        },
        "parameters": {
          "description": "The parameters you are testing in this experiment, e.g. model:gpt-4o vs another Experiment with model:gpt-4o-mini  These + comparison_parameters are (a) set as environment variables, and (b) passed as kwargs to the engine function.",
          "type": "object"
        },
        "results": {
          "items": {
            "additionalProperties": false,
            "properties": {
              "errors": {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              "exampleId": {
                "type": "string"
              },
              "scores": {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              }
            },
            "required": [
              "exampleId",
              "scores"
            ],
            "type": "object"
          },
          "type": "array"
        },
        "summary_results": {
          "description": "metric name: -> summary stats: average, min, max, variance, histogram, count"
        },
        "updated": {
          "format": "date-time",
          "type": "string"
        }
      },
      "required": [
        "id",
        "dataset",
        "organisation",
        "created",
        "updated"
      ],
      "type": "object"
    }
  }
}
